#pragma checksum "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "b30bf7c383e39d1b87e457729ca5d30a4503f226"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Management_Config), @"mvc.1.0.view", @"/Views/Management/Config.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\_ViewImports.cshtml"
using DailyLoan;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\_ViewImports.cshtml"
using DailyLoan.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
using DailyLoan.Library;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
using DailyLoan.Library.Status;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b30bf7c383e39d1b87e457729ca5d30a4503f226", @"/Views/Management/Config.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ce9f4d3c83c359122f973183688fca0ba2cf50e8", @"/Views/_ViewImports.cshtml")]
    public class Views_Management_Config : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 3 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
   var init = new InitialConfig(); 

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<div class=""row"">
    <div class=""col-12"">
        <table id=""tableh"" class=""table table-striped table-bordered"" style=""width:100%"">
            <thead style=""width:100%"">
                <tr>
                    <th>#</th>
                    <th data-field=""housename"">ชื่อบ้าน</th>
                    <th>จังหวัด</th>
                    <th>อำเภอ</th>
                    <th>ตำบล</th>
                    <th>สถานะ</th>
                    <th>หมายเหตุ</th>
                    <th></th>
                </tr>
            </thead>
            <tbody style=""width:100%"">
");
#nullable restore
#line 20 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                 if (ViewBag.House.Count > 0)
                {
                    foreach (var items in ViewBag.House)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <tr class=\'clickable-row\'>\r\n                            <td scope=\"row\">");
#nullable restore
#line 25 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                       Write(items.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 26 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                           Write(items.HouseName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 27 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                           Write(items.Province);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 28 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                           Write(items.District);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 29 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                           Write(items.SubDistrict);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 30 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                           Write(items.StatusText);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 31 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                           Write(items.Remark);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</td>
                            <td>
                                <button type=""button"" class=""btn btnClick"" style=""padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;"">select</button>
                            </td>
                        </tr>
");
#nullable restore
#line 36 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                    }
                }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            </tbody>
        </table>
    </div>
</div>
<div id=""editpane"" name=""editpane"">
    <div class=""row"">
        <div class=""col-sm-11 pt-2"">
            <div class=""row"">
                <h2>เรตราคา</h2>
            </div>
        </div>
        <div class=""col-sm-11 pt-2"">
            <div class=""row"">
                <div class=""col-md-4"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 53 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["CustomerRate"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""customerrate"" id=""customerrate"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
                <div class=""col-md-4"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 59 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["AgentRate"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""agentrate"" id=""agentrate"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
                <div class=""col-md-4"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 65 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["HouseRate"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""houserate"" id=""houserate"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
            </div><!-- End .row -->
        </div><!-- End .col-sm-11 -->
        <div class=""col-sm-11 pt-2"">
            <div class=""row"">
                <h2>เงื่อนไขการตัด</h2>
            </div>
        </div>
        <div class=""col-sm-11 pt-2"">
            <div class=""row"">
                <div class=""col-md-6"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 80 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["MinCutDay"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""mincutday"" id=""mincutday"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
                <div class=""col-md-6"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 86 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["IncCutCriteria"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""inccutcriteria"" id=""inccutcriteria"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
            </div><!-- End .row -->
        </div><!-- End .col-sm-11 -->
        <div class=""col-sm-11 pt-2"">
            <div class=""row"">
                <div class=""col-md-6"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 96 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["DecCutPercen"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""deccutpercen"" id=""deccutpercen"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
                <div class=""col-md-6"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 102 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["DecCutCriteria"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""deccutcriteria"" id=""deccutcriteria"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
            </div><!-- End .row -->
        </div><!-- End .col-sm-11 -->
        <div class=""col-sm-11 pt-2"">
            <div class=""row"">
                <h2>เรตกำไร และ เงื่อนไขพิเศษ</h2>
            </div>
        </div>
        <div class=""col-sm-11 pt-2"">
            <div class=""row"">
                <div class=""col-md-6"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 117 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["TotalProfit"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""totalprofit"" id=""totalprofit"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
                <div class=""col-md-6"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 123 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["SpecialRateCriteria"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""specialratecriteria"" id=""specialratecriteria"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
            </div><!-- End .row -->
        </div><!-- End .col-sm-11 -->
        <div class=""col-sm-11 pt-2"">
            <div class=""row"">
                <h2>การแจ้งเตือน</h2>
            </div>
        </div>
        <div class=""col-sm-11 pt-2"">
            <div class=""row"">
                <div class=""col-md-6"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 138 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["NotPayAlert"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""notpayalert"" id=""notpayalert"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
                <div class=""col-md-6"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 144 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["PartialPayAlert"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""partialpayalert"" id=""partialpayalert"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
            </div><!-- End .row -->
        </div><!-- End .col-sm-11 -->
    </div>
    <div class=""mb-1""></div>
    <input type=""hidden"" id=""HouseId"" name=""HouseId"" />
    <div class=""required text-right"">* Required Field</div>
    <label id=""msg""></label>
    <div class=""form-footer"">
        <div class=""form-footer-right"">
            <button type=""button"" class=""btn btn-primary"" id=""save"">บันทึก</button>
        </div>
    </div><!-- End .form-footer -->
    <div class=""row"">
        <div class=""col-12"">
            <table id=""table"" class=""table table-striped table-bordered"" style=""width:100%"">
                <thead style=""width:100%"">
                    <tr>
                        <th>#</th>
                        <th>วันที่เริ่ม</th>
                      ");
            WriteLiteral(@"  <th>วันที่หมด</th>
                        <th>เรตลูกค้า</th>
                        <th>เรตค่าหัว</th>
                        <th>เรตเข้าบ้าน</th>
                        <th>จำนวนวันตัด</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody id=""specialRate"" style=""width:100%"">
                </tbody>
            </table>
        </div>
    </div>
    <div class=""row"">
        <div class=""col-sm-11 pt-2"">
            <input type=""checkbox"" id=""isNew"" name=""isNew"" checked=""checked"" value=""true"">
            <label for=""isNew"">เพิ่มเรตพิเศษใหม่</label>
        </div>
        <div class=""col-sm-11 pt-2"">
            <div class=""row"">
                <div class=""col-md-6"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">วันที่เริ่ม</label>
                        <input type=""text"" class=""form-control"" name=""startdate"" id=""startdate"" required>
                    </div>");
            WriteLiteral(@"<!-- End .form-group -->
                </div><!-- End .col-md-8 -->
                <div class=""col-md-6"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">วันที่หมด</label>
                        <input type=""text"" class=""form-control"" name=""enddate"" id=""enddate"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
            </div><!-- End .row -->
        </div><!-- End .col-sm-11 -->
        <div class=""col-sm-11 pt-2"">
            <div class=""row"">
                <div class=""col-md-4"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 205 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["CustomerRate"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""spcustomerrate"" id=""spcustomerrate"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
                <div class=""col-md-4"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 211 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["AgentRate"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""spagentrate"" id=""spagentrate"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
                <div class=""col-md-4"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 217 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["HouseRate"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""sphouserate"" id=""sphouserate"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
            </div><!-- End .row -->
        </div><!-- End .col-sm-11 -->
        <div class=""col-sm-11 pt-2"">
            <div class=""row"">
                <div class=""col-md-8"">
                    <div class=""form-group required-field"">
                        <label for=""acc-name"">");
#nullable restore
#line 227 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
                                         Write(init.config_th["MinCutDay"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                        <input type=""text"" class=""form-control"" name=""spmincutday"" id=""spmincutday"" required>
                    </div><!-- End .form-group -->
                </div><!-- End .col-md-8 -->
            </div><!-- End .row -->
        </div><!-- End .col-sm-11 -->
    </div>
    <div class=""mb-1""></div>
    <input type=""hidden"" id=""SpecialRateId"" name=""SpecialRateId"" />
    <div class=""required text-right"">* Required Field</div>
    <label id=""msg""></label>
    <div class=""form-footer"">
        <div class=""form-footer-right"">
            <button type=""button"" class=""btn btn-danger"" id=""spdelete"" style=""display:none;"">ลบ</button>
            <button type=""button"" class=""btn btn-primary"" id=""spsave"">บันทึก</button>
        </div>
    </div><!-- End .form-footer -->
</div>
<script type=""text/javascript"">
    var root = '");
#nullable restore
#line 246 "C:\Users\golf_\Documents\GitHub\DailyLoan\DailyLoan\Views\Management\Config.cshtml"
           Write(Url.Content("~/"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"';
    root = (root == '/' ? """" : root);
    function dateStr(dat) {
        try {
            var arr = dat.split('T');
            var arr = arr[0].split('-');
            if (arr.length == 3)
                return arr[2] + '/' + arr[1] + '/' + arr[0];
            else return null;

        } catch (e) {
            console.log(e);
            return null;
        }
    }
$(document).ready(function () {
    $('#isNew').prop('checked', true);
    $(""#editpane"").hide();
    $(""#HouseId"").val("""");
    $(""#SpecialRateId"").val("""");
    $('#tableh').DataTable({
        ""info"": true,
        ""pageLength"": 10,
        ""bLengthChange"": false
    });
    $('#isNew').click(function () {
        if ($('#isNew').prop('checked')) {
            $(""#SpecialRateId"").val("""");
            $('#spdelete').hide();
        } else {
            if ($(""#SpecialRateId"").val() != """") $('#spdelete').show();
        }
    });
    $('#tableh tbody').on('click', '.btnClick', function () {
        $(""#ed");
            WriteLiteral(@"itpane"").show();
        $(""#HouseId"").val($(this).closest('tr').find('td').eq(0).text());
        $.ajax({
            type: ""GET"",
            url: root + ""/GetConfigDetail/"" + $(""#HouseId"").val(),
            contentType: ""application/json; charset=utf-8;"",
            dataType: ""json"",
            success: function (data) {
                if (data != undefined) {
                    $(""#isNew"").prop('checked', false);
                    $(""#customerrate"").val(data.configs[""CustomerRate""]);
                    $(""#agentrate"").val(data.configs[""AgentRate""]);
                    $(""#houserate"").val(data.configs[""HouseRate""]);
                    $(""#mincutday"").val(data.configs[""MinCutDay""]);
                    $(""#inccutcriteria"").val(data.configs[""IncCutCriteria""]);
                    $(""#deccutcriteria"").val(data.configs[""DecCutCriteria""]);
                    $(""#deccutpercen"").val(data.configs[""DecCutPercen""]);
                    $(""#specialratecriteria"").val(data.configs[""SpecialR");
            WriteLiteral(@"ateCriteria""]);
                    $(""#totalprofit"").val(data.configs[""TotalProfit""]);
                    $(""#notpayalert"").val(data.configs[""NotPayAlert""]);
                    $(""#partialpayalert"").val(data.configs[""PartialPayAlert""]);
                    $(""#specialRate"").empty();
                    for (var i = 0; i < data.specialRates.length; i++) {
                        var sp = data.specialRates[i];
                        var tmp = '<tr class=""clickable-row"">';
                        tmp += '<td scope=""row"">'+sp.id+'</td>';
                        tmp += '<td>' +dateStr(sp.startDate)+'</td>';
                        tmp += '<td>' +dateStr(sp.endDate)+'</td>';
                        tmp += '<td>'+sp.customerRate+'</td>';
                        tmp += '<td>'+sp.agentRate+'</td>';
                        tmp += '<td>'+sp.houseRate+'</td>';
                        tmp += '<td>'+sp.minCutDay+'</td>';
                        tmp += '<td>';
                        tmp += '<button type");
            WriteLiteral(@"=""button"" class=""btn btnClick"" style=""padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;"">select</button>';
                        tmp += '</td>';
                        tmp += '</tr >';
                        $(tmp).appendTo($(""#specialRate""));
                    }
                }
            },
            error: function (e) { $(""#HouseId"").val("""");console.log(e) }
        });
    });
    $('#specialRate').on('click', '.btnClick', function () {
        $('#spdelete').show();
        $(""#SpecialRateId"").val($(this).closest('tr').find('td').eq(0).text());
        $.ajax({
            type: ""GET"",
            url: root + ""/GetSpecialRateDetail/"" + $(""#SpecialRateId"").val(),
            contentType: ""application/json; charset=utf-8;"",
            dataType: ""json"",
            success: function (data) {
                if (data != undefined) {
                    $(""#isNew"").prop('checked', false);
                    $(""#startdate"").val(dateStr(data.startDate));");
            WriteLiteral(@"
                    $(""#enddate"").val(dateStr(data.endDate));
                    $(""#spcustomerrate"").val(data.customerRate);
                    $(""#spagentrate"").val(data.agentRate);
                    $(""#sphouserate"").val(data.houseRate);
                    $(""#spmincutday"").val(data.minCutDay);
                }
            },
            error: function (e) { $(""#HouseId"").val(""""); console.log(e) }
        });
    });
    $(""#save"").click(function () {
        if ($(""#HouseId"").val() != """") {
            let req = new XMLHttpRequest();
            let formData = new FormData();

            formData.append(""HouseId"", $(""#HouseId"").val());
            formData.append(""CustomerRate"", $(""#customerrate"").val());
            formData.append(""AgentRate"", $(""#agentrate"").val());
            formData.append(""HouseRate"", $(""#houserate"").val());
            formData.append(""MinCutDay"", $(""#mincutday"").val());
            formData.append(""IncCutCriteria"", $(""#inccutcriteria"").val());
    ");
            WriteLiteral(@"        formData.append(""DecCutCriteria"", $(""#deccutcriteria"").val());
            formData.append(""DecCutPercen"", $(""#deccutpercen"").val());
            formData.append(""SpecialRateCriteria"", $(""#specialratecriteria"").val());
            formData.append(""TotalProfit"", $(""#totalprofit"").val());
            formData.append(""NotPayAlert"", $(""#notpayalert"").val());
            formData.append(""PartialPayAlert"", $(""#partialpayalert"").val());
            req.open(""POST"", '/EditConfig');
            req.send(formData);
            req.onload = function () {
                if (req.readyState != 4 || req.status != 200) {
                    $(""#msg"").text(req.responseText)
                } else {
                    alert(req.responseText);
                    location.reload();
                }
            }
        } else {
            alert('กรุณาเลือกบ้าน');
        }
    });
    $(""#spsave"").click(function () {
        if ($(""#SpecialRateId"").val() != """" && !$(""#isNew"").prop('checked') ||");
            WriteLiteral(@" ($(""#isNew"").prop('checked') && $(""#SpecialRateId"").val() == '')) {
            let req = new XMLHttpRequest();
            let formData = new FormData();

            formData.append(""isNew"", $(""#isNew"").prop('checked'));
            formData.append(""Id"", $(""#SpecialRateId"").val());
            formData.append(""HouseId"", $(""#HouseId"").val());
            formData.append(""StartDate"", $(""#startdate"").val());
            formData.append(""EndDate"", $(""#enddate"").val());
            formData.append(""CustomerRate"", $(""#spcustomerrate"").val());
            formData.append(""AgentRate"", $(""#spagentrate"").val());
            formData.append(""HouseRate"", $(""#sphouserate"").val());
            formData.append(""MinCutDay"", $(""#spmincutday"").val());
            req.open(""POST"", '/EditSpecialRate');
            req.send(formData);
            req.onload = function () {
                if (req.readyState != 4 || req.status != 200) {
                    $(""#msg"").text(req.responseText)
                } els");
            WriteLiteral(@"e {
                    alert(req.responseText);
                    $.ajax({
                        type: ""GET"",
                        url: root + ""/GetConfigDetail/"" + $(""#HouseId"").val(),
                        contentType: ""application/json; charset=utf-8;"",
                        dataType: ""json"",
                        success: function (data) {
                            if (data != undefined) {
                                $(""#isNew"").prop('checked', false);
                                $(""#customerrate"").val(data.configs[""CustomerRate""]);
                                $(""#agentrate"").val(data.configs[""AgentRate""]);
                                $(""#houserate"").val(data.configs[""HouseRate""]);
                                $(""#mincutday"").val(data.configs[""MinCutDay""]);
                                $(""#inccutcriteria"").val(data.configs[""IncCutCriteria""]);
                                $(""#deccutcriteria"").val(data.configs[""DecCutCriteria""]);
                     ");
            WriteLiteral(@"           $(""#deccutpercen"").val(data.configs[""DecCutPercen""]);
                                $(""#specialratecriteria"").val(data.configs[""SpecialRateCriteria""]);
                                $(""#totalprofit"").val(data.configs[""TotalProfit""]);
                                $(""#notpayalert"").val(data.configs[""NotPayAlert""]);
                                $(""#partialpayalert"").val(data.configs[""PartialPayAlert""]);
                                $(""#specialRate"").empty();
                                for (var i = 0; i < data.specialRates.length; i++) {
                                    var sp = data.specialRates[i];
                                    var tmp = '<tr class=""clickable-row"">';
                                    tmp += '<td scope=""row"">' + sp.id + '</td>';
                                    tmp += '<td>' + dateStr(sp.startDate) + '</td>';
                                    tmp += '<td>' + dateStr(sp.endDate) + '</td>';
                                    tmp += '<td>' +");
            WriteLiteral(@" sp.customerRate + '</td>';
                                    tmp += '<td>' + sp.agentRate + '</td>';
                                    tmp += '<td>' + sp.houseRate + '</td>';
                                    tmp += '<td>' + sp.minCutDay + '</td>';
                                    tmp += '<td>';
                                    tmp += '<button type=""button"" class=""btn btnClick"" style=""padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;"">select</button>';
                                    tmp += '</td>';
                                    tmp += '</tr >';
                                    $(tmp).appendTo($(""#specialRate""));
                                }
                            }
                        },
                        error: function (e) { $(""#HouseId"").val(""""); console.log(e) }
                    });
                }
            }
        } else {
            alert('กรุณาเลือกเรตพิเศษ หรือ ติ๊กที่เพิ่มเรตพิเศษใหม่');
        }
    ");
            WriteLiteral(@"});
    $(""#spdelete"").click(function () {
        if (confirm('คุณต้องการที่จะลบเรตพิเศษนี้ ใช่หรือไม่?')) {
            let req = new XMLHttpRequest();
            req.open(""GET"", '/DeleteSpecialRate/' + $(""#SpecialRateId"").val());
            req.send();
            req.onload = function () {
                if (req.readyState != 4 || req.status != 200) {
                    $(""#msg"").text(req.responseText)
                } else {
                    alert(req.responseText);
                    $.ajax({
                        type: ""GET"",
                        url: root + ""/GetConfigDetail/"" + $(""#HouseId"").val(),
                        contentType: ""application/json; charset=utf-8;"",
                        dataType: ""json"",
                        success: function (data) {
                            if (data != undefined) {
                                $(""#isNew"").prop('checked', false);
                                $(""#customerrate"").val(data.configs[""CustomerRate""]);
  ");
            WriteLiteral(@"                              $(""#agentrate"").val(data.configs[""AgentRate""]);
                                $(""#houserate"").val(data.configs[""HouseRate""]);
                                $(""#mincutday"").val(data.configs[""MinCutDay""]);
                                $(""#inccutcriteria"").val(data.configs[""IncCutCriteria""]);
                                $(""#deccutcriteria"").val(data.configs[""DecCutCriteria""]);
                                $(""#deccutpercen"").val(data.configs[""DecCutPercen""]);
                                $(""#specialratecriteria"").val(data.configs[""SpecialRateCriteria""]);
                                $(""#totalprofit"").val(data.configs[""TotalProfit""]);
                                $(""#notpayalert"").val(data.configs[""NotPayAlert""]);
                                $(""#partialpayalert"").val(data.configs[""PartialPayAlert""]);
                                $(""#specialRate"").empty();
                                for (var i = 0; i < data.specialRates.length;i++) {
     ");
            WriteLiteral(@"                               var sp = data.specialRates[i];
                                    var tmp = '<tr class=""clickable-row"">';
                                    tmp += '<td scope=""row"">' + sp.id + '</td>';
                                    tmp += '<td>' + dateStr(sp.startDate) + '</td>';
                                    tmp += '<td>' + dateStr(sp.endDate) + '</td>';
                                    tmp += '<td>' + sp.customerRate + '</td>';
                                    tmp += '<td>' + sp.agentRate + '</td>';
                                    tmp += '<td>' + sp.houseRate + '</td>';
                                    tmp += '<td>' + sp.minCutDay + '</td>';
                                    tmp += '<td>';
                                    tmp += '<button type=""button"" class=""btn btnClick"" style=""padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;"">select</button>';
                                    tmp += '</td>';
                             ");
            WriteLiteral(@"       tmp += '</tr >';
                                    $(tmp).appendTo($(""#specialRate""));
                                }
                            }
                        },
                        error: function (e) { $(""#HouseId"").val(""""); console.log(e) }
                    });
                }
            }
        }
    });
});
</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
